<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<script type="text/javascript">
			/**
			  extensions is an Array and each item has such format:
			  {firstName: 'xxx', lastName: 'xxx', ext: 'xxx', extType: 'xxx'}
			  lastName, ext can be empty, extType can only has "DigitalUser", "VirtualUser","FaxUser","Dept","AO".
			**/
			
			/**
			  Question 1: sort extensions by "firstName" + "lastName" + "ext" ASC
			**/
			function sortExtensionsByName(extensions) {
				return extensions.sort(sortRules());
			}
			
			//排序函数
			function sortRules(){
				var firstName='firstName',
				    lastName='lastName',
				    ext='ext';
				return function(a,b){
					var v1=a[firstName],
						v2=b[firstName],
						v3=a[lastName],
						v4=b[lastName],
						v5=a[ext],
						v6=b[ext];
					if(v1<v2){
						return -1;
					}else if(v1>v2){
						return 1;
					}else{
						if(v3<v4){
							return -1;
						}else if(v3>v4){
							return 1;
						}else{
							if(v5<v6){
								return -1;
							}else if(v5>v6){
								return 1;
							}else{
								return 0;
							}
						}
					}
				};
			}
			
			//数据模拟
			var arr=[
				{firstName: 'vv', lastName: 'bt', ext: 'other1', extType: 'VirtualUser'},
				{firstName: 'vv', lastName: 'bt', ext: 'other0', extType: 'VirtualUser'},
				{firstName: 'mm', lastName: 'ak', ext: '', extType: 'DigitalUser'},
				{firstName: 'gg', lastName: '', ext: 'hello word', extType: 'FaxUser'},
				{firstName: 'ww', lastName: 'rr', ext: 'day day study', extType: 'Dept'},
				{firstName: 'vv', lastName: 'at', ext: 'other', extType: 'AO'}
			];
			
			console.log(sortExtensionsByName(arr));

		</script>
	</body>
</html>
